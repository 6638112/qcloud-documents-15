在边缘函数中，判断请求头信息，控制允许/拒绝访问。

```typescript
async function handleRequest(request) {
  const token = request.headers.get('x-custom-token');

  if (token === 'token-123456') {
    return new Response('hello world');
  }

  // Incorrect key supplied. Reject the request.
  return new Response('Sorry, you have supplied an invalid token.', {
    status: 403,
  });
}

addEventListener('fetch', event => {
  event.respondWith(handleRequest(event.request));
});
```

## 示例预览

在浏览器地址栏中输入边缘函数触发规则，即可预览到示例效果。

- 鉴权不通过，拒绝访问

<img src="https://user-images.githubusercontent.com/117053395/207557639-f34222d8-dd07-4cdc-870b-4188cab977af.png" width=609px>

- 鉴权通过，允许访问

<img src="https://user-images.githubusercontent.com/117053395/207559167-9b20f019-d021-4e76-a709-36b040823b4b.png" width=609px>

## 相关参考
- [Runtime APIs: Headers](https://cloud.tencent.com/document/product/1552/81903)
- [Runtime APIs: Response](https://cloud.tencent.com/document/product/1552/81917)
