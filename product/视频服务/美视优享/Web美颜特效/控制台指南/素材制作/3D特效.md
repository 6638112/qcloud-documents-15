# 3D特效


SDK从0.3.0版本开始支持3D特效功能，使用前请确认版本信息。

3D特效指用户根据标准的头模，在相关3D软件中（如Blender，3DSMax等）制作相关3D模型，上传至控制台中，实现更加真实的效果。

### 素材规范

为了使模型更加贴合，效果更加逼真，请下载我们提供的[标准头模](https://webar-static.tencent-cloud.com/assets/model/3D-temp.glb)，根据标准头模制作3D素材。

| 类型 | 规范 |
|---------|---------|
| 模型格式 | glb文件或gltf文件夹 |
| 模型大小 | 考虑到加载时间，单个模型大小请控制在5M以内 |
| 模型面数 | 考虑到包体积，单个模型请控制在10W面以内  |
| 纹理贴图 | 正方形png格式，单张图不超过1024*1024，常用256,512,1024这三种尺寸。在保证清晰度的同时，请尽量压缩贴图大小 |
| 材质属性 | 表（曲）面使用原理化BSDF（Principled BSDF），否则会导致材质贴图渲染异常 |

### 制作步骤

步骤1：创作素材

1. 下载3D素材用标准头模，导入3D软件中（此处以Blender为例），制作贴合头模的3D素材，导出为glb或gltf类型。

![Blender截图](https://webar-static.tencent-cloud.com/docs/console/3D/Blender-1.png)

>注意
>
>- 为了使素材更加贴合拍摄者视角，请勿随意更改默认头模的位置、缩放等变换属性。
>- 为了降低特效包的体积，更快地加载资源，推荐使用glb格式作为导出首选项。

步骤2：导入控制台

1. 打开控制台素材制作页面，默认展示的是2D特效用内置模特，点击顶部【3D特效】按钮，会切换为3D编辑用头模，与上述标准头模为同一模型。

![控制台截图1](https://webar-static.tencent-cloud.com/docs/console/3D/console-1.png)


2. 点击右侧选择模型按钮，会弹出模型类型选项窗口，根据不同的数据类型选择不同的入口即可。此处以glb模型为例，演示导入流程。

![控制台截图2](https://webar-static.tencent-cloud.com/docs/console/3D/console-2.png)
![控制台截图3](https://webar-static.tencent-cloud.com/docs/console/3D/console-3.png)
![控制台gif1](https://webar-static.tencent-cloud.com/docs/console/3D/gif-1.gif)


>注意
>
>- 仅可添加一个3D特效场景，如果需要导入多个3D模型，可通过点击左侧列表中的➕按钮添加。
> ![控制台截图4](https://webar-static.tencent-cloud.com/docs/console/3D/console-4.png)
>-  点击左侧节点切换当前编辑的3D模型。


步骤3：调整素材参数

1. 理论情况下，模型是根据上述默认头模制作而成，导入控制台中即可直接使用，无需进行二次调整。特殊情况下若需调整模型的相关参数，可通过点击顶部的按钮切换编辑属性，在下方编辑区域拖拽定位，或直接修改右侧相关属性参数值进行调整。

![控制台截图5](https://webar-static.tencent-cloud.com/docs/console/3D/console-5.png)
![控制台gif2](https://webar-static.tencent-cloud.com/docs/console/3D/gif-2.gif)

>注意
>
>- 若导入的是现有的素材，并非根据默认头模制作而成，可以根据模型类型调整对应的素材的追踪点信息，以实现更精准的定位效果。如眼镜类模型可以选择鼻梁作为追踪点，胡子类类型可以选择人中作为追踪点等。
![控制台截图6](https://webar-static.tencent-cloud.com/docs/console/3D/console-6.png)

步骤4：预览效果

右侧的预览窗口可以预览素材置于内置模特人脸之上的效果，也可以切换为电脑摄像头，查看自身面部效果。

步骤5：导出

确认效果后，点击右上角【导出素材】按钮，弹出框中选择封面、填写特效名称等信息后即可【发布】，已发布的素材可在【素材管理】列表中查看。
![控制台截图6](https://webar-static.tencent-cloud.com/docs/console/3D/console-7.png)
