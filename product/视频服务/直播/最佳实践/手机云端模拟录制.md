## 概念说明
手机屏幕云端模拟录制服务基于 [云渲染](https://cloud.tencent.com/document/product/1162/65422#7b5a45de-04c2-4cfc-8fcb-70bcc947a54f)。
为实现“所看既所录”,将 App 原生内容作为直播流或录制源文件，可将用户终端的“本地录屏直播”功能模块迁移至云端 Android 容器，在云端对终端屏幕内容进行实时直播及录制，降低了客户端 App 的改造成本与维护成本。除此之外也可以定制云 APK 实现在用户终端 App 上无法实现的复杂功能，扩展 App 的能力降低用户终端操作复杂度。

## 场景结合

- **与直播场景结合**：   云端运行任意 App，支持将其画面作为直播内容源，实时**推流到云端进行播放**。
- **与录制场景结合**：   云端运行任意 App，支持将其**终端屏幕原生画面实时录制并存储**。

具体案例，请参见 [落地案例](#case)。

 
## 功能优势

| 功能优势 | 标题2 | 
|---------|---------|
| 使用场景广 | 使用于直播、录制等音视频相关业务场景。 | 
| 场景还原 | 直播、游戏、网课场景下，等过程中所有特效等内容都可以捕捉到，实现全量内容录制。 | 
| 接入成本低 | 客户端无需接入 SDK，通过业务后台进行 API 对接。 | 
| 改造成本低 | 云端运行的 APK 改造成本低，原始 APK 可直接部署。 | 
| 功能扩展强 | 可以定制云端运行的 APK 实现终端 App 不适合实现的复杂功能。 | 


[](id:case)
## 落地案例

### 案例1：云端运行游戏 APK，降低赛事直播成本

- **需求背景**：某国民级别游戏，其线下赛需使用游戏直播能力
- **原实现方法**：选手手机安装直播插件，本地终端录屏推流直播
- **场景痛点**：
	- 手机需安装直播插件，对于普通玩家而言，操作成本高
	- 开播后手机发热发烫、本地推流占用带宽，均影响了选手游戏体验
	- 实现导播能力，需配合使用 PC 端 OBS 能力或线下导播台
- **实现方法**：
	- 采用腾讯云“云 APK 直播与录制”能力
	- 云端运行客户定制化的游戏包，可实时同步选手的游戏画面
	- 定制化游戏包内置“广告位叠加”、“视角切换”等导播逻辑，可在云端实现导播能力
	- 将云端 App 画面推流并通过腾讯云直播分发
- **其他场景：第三方 App 内容实时直播**
	- 云 APK 直播可以将任意第三方 App 的实时内容，作为直播视频源
	- 便于直播场景下的“App 操作”实时演示


### 案例2：云端运行直播 APK，提升直播内容录制效果

- **需求背景**：某国民级别直播 App，需沉淀“主播对战 PK“、“语音房”等互动玩法下的视频内容，作为二次分发的 UGC 素材
- **原实现方法**：运营人员使用手机，在主播开播期间进行手动录屏
- **场景痛点**：
	- 常规的视频录制方法，所获取的视频流均为单一主播视角的原始画面
	- 即使通过混流录制，也缺少弹幕的动画效果
	- 某些特定场景（如“语音房”）仅能通过运营人员使用手机录屏，无法实现规模化、自动化的素材积累
- **实现方法**：
	- 采用腾讯云“云 APK 直播与录制”能力
	- 云端运行客户定制化的免登录 App
	- 主播开播时，客户业务后台自动发送消息给云端 App，云端 App 收到信令后进入指定房间并播放视频
	- 配合腾讯云直播录制能力，沉淀视频内容素材
- **其他场景：在线课堂录制**
	- 云APK录制可以将老师完整教学过程、动画课件、PPT及答题、投票、白板互动效果录制下来
	- 录制的视频可以作为后续知识分享、二次传播的资料
	- 相比单纯的教学视频，加入了学员实时交互内容的视频，传播度和教学效果都将得到大幅提升

## 架构流程
将 App 内容作为录播内容源，实现所见即所得的录制效果，甚至还能按需叠加“广告位”等信息。只需要用户在腾讯云渲染中启动云端容器，推流至腾讯云直播后，结合录制模块，生成录制文件，直接上传至 VOD 或 COS，也可将内容作为直播源，分发给直播观众。
![](https://qcloudimg.tencent-cloud.cn/raw/1d44f35c1f96ba20c5c9ef7f07e1bcd4.png)
 

## 前提条件
- 已开通腾讯云直播服务，并添加 [推流域名](https://cloud.tencent.com/document/product/267/20381)。
- 已开通 [**云游戏服务**](https://cloud.tencent.com/document/product/1162)。
- 已开通 [云点播服务](https://cloud.tencent.com/document/product/266/8757#.E6.AD.A5.E9.AA.A41.EF.BC.9A.E5.BC.80.E9.80.9A.E4.BA.91.E7.82.B9.E6.92.AD)。


## 操作步骤
1. 在 [腾讯云云游戏-控制台部署](https://cloud.tencent.com/document/product/1162/64896) Android APK，并购买绑定 Android [容器并发](https://cloud.tencent.com/document/product/1162/64889)。
2. 参考[ 云游戏 — 无客户端模式](https://cloud.tencent.com/document/product/1162/65422#7b5a45de-04c2-4cfc-8fcb-70bcc947a54f) 控制调度 Android App 运行。
3. 调用 [开始云端推流](https://cloud.tencent.com/document/product/1162/67868) API 将 Android 容器中 App 运行的完整画面推流至 [腾讯云直播](https://cloud.tencent.com/document/product/267)。
4. 在腾讯云直播可以在腾讯云 [**直播控制台开启录制**](https://cloud.tencent.com/document/product/267/32739) 将 App 运行的完整画面保存成录制文件，也可将此直播流用于播放分发。
