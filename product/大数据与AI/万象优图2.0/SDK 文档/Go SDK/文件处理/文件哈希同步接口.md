
## 简介

本文档提供关于文件处理同步请求接口的 API 概览以及 SDK 示例代码。

| API                 | 操作名        | 操作描述            |
| ------------------- | -------------- | --------------------- |
| [GetFileHash](https://cloud.tencent.com/document/product/436/83107)   | 哈希值计算同步请求 | 以同步请求的方式进行文件哈希值计算，实时返回计算得到的哈希值   |



## 提交文件处理任务

#### 功能说明

GetFileHash 接口用于提交一个文件处理任务。

#### 方法原型
```go
func (s *CIService) GetFileHash(ctx context.Context, name string, opt *GetFileHashOptions) (*GetFileHashResult, *Response, error)
```

#### 请求示例
```go
opt := &cos.GetFileHashOptions{
    CIProcess: "filehash",
    Type:      "md5",
}
res, _, err := c.CI.GetFileHash(context.Background(), "test.jpg", opt)
```

#### 参数说明

```go
type GetFileHashOptions struct {
	CIProcess   string
	Type        string
	AddToHeader bool
}
```

| 参数名称  | 描述                                   | 类型      |
| --------- | -------------------------------------- | --------- |
| name        | 执行操作的文件全路径                                            | String    |
| CIProcess   | 操作类型，哈希值计算固定为：filehash                         | String |
| Type        | 支持的哈希算法类型，有效值：md5、sha1、sha256                               | String |
| AddToHeader | 是否将计算得到的哈希值，自动添加至文件的自定义header，格式为：x-cos-meta-md5/sha1/sha256; 有效值： true、false，不填则默认为false。 | Bool |

#### 返回结果说明

```go
type GetFileHashResult struct {
	FileHashCodeResult *FileHashCodeResult
	Input              *FileProcessInput
}
```

| 参数名称   | 描述           | 类型      |
| ---------- | -------------- | --------- |
| FileHashCodeResult | 文件哈希值的结果。详情请参见FileProcessJobOptions.Input | Container |
| Input              | 输入文件的基本信息。详情请参见FileProcessJobOptions.Operation.FileHashCodeResult | Container |

