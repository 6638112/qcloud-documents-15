
## monitor-agent 版本迭代记录
| 变更时间   | 版本号   | 变更内容                                                                                                                                                                          | 限制和影响                                                                             |
|------------|--------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------|
| 2022-06-23 | v1.0.0 | 首次加入，在用户集群内的监控组件安装使用 chart 的方式。                                                                                                                           | 此次升级不会对已有业务造成影响。升级过程中可能存在组件不可用情况，建议业务低峰期升级。 |
| 2022-07-05  | v1.1.0 | tke-monitor-agent 挂在宿主机 /proc/meminfo、/proc/cpuinfo。                                                                                                                       | 此次升级不会对已有业务造成影响。升级过程中可能存在组件不可用情况，建议业务低峰期升级。 |
| 2022-07-21 | v1.1.1 | 修复问题：当用户集群对应 cluster-monitor 没有安装时，数据采集&上报超过了采集周期。                                                                                                | 此次升级不会对已有业务造成影响。升级过程中可能存在组件不可用情况，建议业务低峰期升级。 |
| 2022-07-25 | v1.2.0 | 添加 Pod cpu 可优化量、Pod 内存可优化量、节点 cpu 装箱率、节点内存装箱率指标。                                                                                                    | 此次升级不会对已有业务造成影响。升级过程中可能存在组件不可用情况，建议业务低峰期升级。 |
| 2022-07-28 | v1.2.1 | 更新节点 cpu 装箱率、节点内存装箱率指标计算方式。                                                                                                                                 | 此次升级不会对已有业务造成影响。升级过程中可能存在组件不可用情况，建议业务低峰期升级。 |
| 2022-08-09 | v1.2.2 | 更新 gpu 指标计算方式。                                                                                                                                                           | 此次升级不会对已有业务造成影响。升级过程中可能存在组件不可用情况，建议业务低峰期升级。 |
| 2022-08-25 | v1.3.0 | TKE 基础监控支持 pvc 监控指标。 monitoragent chart 子版本号和 monitor-agent 镜像 tag 中的子版本号对齐，下次再发版本时，monitoragent 的 chart 版本和 monitor-agent 镜像 tag 相同。 | 此次升级不会对已有业务造成影响。升级过程中可能存在组件不可用情况，建议业务低峰期升级。 |
| 2022-10-20 | v1.3.1 | 修复问题：上报的监控数据时间戳偏移引起的数据掉点现象。                                                                                                                            | 此次升级不会对已有业务造成影响。升级过程中可能存在组件不可用情况，建议业务低峰期升级。 |
| 2022-11-08  | v1.3.2 | 读取 http response 之前先判断 response 是否为 nil。tke-monitor-agent 内置域名解析方案。                                                                                          | 此次升级不会对已有业务造成影响。升级过程中可能存在组件不可用情况，建议业务低峰期升级。 |
| 2022-12-13 | v1.3.3 | 修复问题：k8s 1.22 独立集群 apiserver 报错：timeout or abort while handling                                                                                                       | 此次升级不会对已有业务造成影响。升级过程中可能存在组件不可用情况，建议业务低峰期升级。 |
