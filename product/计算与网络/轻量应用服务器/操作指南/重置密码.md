## 操作场景

轻量应用服务器提供重置实例登录密码的功能。主要应用在以下场景：
- 首次从本地计算机远程登录实例：
 - 首次使用远程登录软件（或使用 SSH ）登录 Linux 实例前，您需要通过此操作重置用户名（root）的密码。
 - 首次登录 Windows 实例前，若您在创建实例时“登录方式”选择了“自动生成密码”，则建议通过此操作重置管理员帐号（如 Administrator）的密码，更换为自定义登录密码。
- 忘记密码：如果您遗忘了密码，您可以在控制台上重新设置实例的登录密码。

## 注意事项
- 轻量应用服务器控制台支持在线重置与离线重置两种重置密码的方式。
- 如您选择离线重置密码，对于正在运行的实例，在重置密码过程中会关闭服务器。为了避免数据丢失，请提前规划好操作时间，建议在业务低谷时进行此操作，将影响降到最低。
- 使用 Ubuntu 镜像创建的实例默认禁用 root 用户名通过密码的方式登录实例。如需开启，[请参考 Ubuntu 系统如何使用 root 用户登录实例？](https://cloud.tencent.com/document/product/1207/44569#ubuntu-.E7.B3.BB.E7.BB.9F.E5.A6.82.E4.BD.95.E4.BD.BF.E7.94.A8-root-.E7.94.A8.E6.88.B7.E7.99.BB.E5.BD.95.E5.AE.9E.E4.BE.8B.EF.BC.9F)。
- 为提升实例的安全性，建议您使用 SSH 密钥对的方式登录 Linux 实例。详情请参见 [管理密钥](https://cloud.tencent.com/document/product/1207/44573)。
 
## 操作步骤

1. 登录 [轻量应用服务器控制台](https://console.cloud.tencent.com/lighthouse/instance/index) 后，您可通过以下方式，打开实例重置密码操作窗口：
 - 选择实例卡片右上角的**更多** > **重置密码**。如下图所示：
 <img style="width:550px; max-width: inherit;" src="https://qcloudimg.tencent-cloud.cn/raw/769bfb9cf20a7e1349d0d96350c62909.png" />
 - 选择实例卡片进入实例详情页后，单击页面右上角的**重置密码**。如下图所示：
  <img style="width:900px; max-width: inherit;" src="https://qcloudimg.tencent-cloud.cn/raw/4f4887b1741abbbb5982d241b3edb4cb.png" />

2. 在弹出的窗口中，根据实例状态与自动化助手状态的不同，您可以选择使用在线或离线的方式进行重置密码操作，具体如下：
<dx-tabs>
::: 在线重置密码
在线重置密码借助自动化助手在实例中执行重置密码的命令，无需关机即可完成密码重置，对业务无影响。需确保您选择实例的实例状态与自动化助手状态均为 **运行中**，否则无法在线重置密码。
 1. 确认需要重置密码的用户名，输入对应的 **新密码** 和 **确认密码**。
 <dx-alert infotype="notice" title="">
其中 **用户名** 类型默认为 **系统默认**，并使用对应操作系统的默认用户名（Windows 系统默认用户名为 Administrator、Ubuntu 系统默认用户名为 ubuntu、其他版本 Linux 系统默认为 root）。如您需指定其他用户名，请选择 **指定用户名** 并输入对应用户名称。
</dx-alert>
 2. 输入对应的 **新密码** 和 **确认密码**。
>!
- Linux 机器密码需8到30位，不支持“/”置于密码首位，至少包括三项（小写字母、大写字母、数字和[()`~!@#$%^&*-+=_|{}[]:;'&lt;  &gt;,.?/]等特殊符号。
- Windows 机器密码需12到30位，不支持“/”置于密码首位，至少包括三项（小写字母、大写字母、数字和[()`~!@#$%^&*-+=_|{}[]:;'&lt;  &gt;,.?/]等特殊符号），且不得包含   用户名，如：“administrator”（大小写不敏感）。
- 当同时选中 Linux 机器与 Windows 机器时，密码复杂性要求参照 Windows 机器的。
 2. 单击确定，完成重置。
 
  <img style="width:700px; max-width: inherit;" src="https://qcloudimg.tencent-cloud.cn/raw/77ceb42887ab546a99bb34f7ec57fd26.png" />
	
3. 在线重置密码完成后，您可以前往目标实例的详情页查看重置密码的结果，选择执行命令页签，单击命令所在行右侧的查看执行详情。
  <img style="width:800px; max-width: inherit;" src="https://qcloudimg.tencent-cloud.cn/raw/be0084cba6fe5494c67cefcfcaa6659d.png" />

<dx-alert infotype="notice" title="">
- 对于 Linux 实例，如果 sshd 未开启密码认证，则在线重置密码的同时将自动打开该配置并重启 sshd 以便生效，可能导致现有 ssh 会话闪断。
- 对于 Windows 实例，如果您选择重置密码的用户处于锁定或禁用状态，则在线重置密码的同时将自动启用。
- 如果您使用在线重置密码时失败或无效，请参考 [实例重置密码失败或无效](https://cloud.tencent.com/document/product/1207/85991) 排查原因。
</dx-alert>

:::
::: 离线重置密码
 <dx-alert infotype="notice" title="">
 如您选择离线重置密码，对于正在运行的实例，在重置密码过程中会关闭服务器。为了避免数据丢失，请提前规划好操作时间，建议在业务低谷时进行此操作，将影响降到最低。
 </dx-alert>
 1. 确认需要重置密码的用户名，输入对应的 **新密码** 和 **确认密码**。
<dx-alert infotype="notice" title="">
其中 **用户名** 类型默认为 **系统默认**，并使用对应操作系统的默认用户名（Windows 系统默认用户名为 Administrator、Ubuntu 系统默认用户名为 ubuntu、其他版本 Linux 系统默认为 root）。如您需指定其他用户名，请选择 **指定用户名** 并输入对应用户名称。
</dx-alert>
 2. 阅读并勾选“离线重置须知，单击确定，完成重置。
   <img style="width:700px; max-width: inherit;" src="https://qcloudimg.tencent-cloud.cn/raw/26b8f95bfc35297f6cd43a73e193941f.png" />

:::


</dx-tabs>

